/*
 * CalWatch
 * Copyright (C) 2014 by Dan Wallach
 * Home page: http://www.cs.rice.edu/~dwallach/calwatch/
 * Licensing: http://www.cs.rice.edu/~dwallach/calwatch/licensing.html
 */

If you look at the full Git history of this file, you'll see it grew quite large at some points and
shrank down at others. Mostly it's served as the ongoing to-do list as well as notes for features in
progress.

==================================================================================================

Android Wear command-line things I can never remember:

-- How to set up the emulator: http://www.tech-recipes.com/rx/49586/how-do-i-connect-an-android-wear-emulator-to-a-real-phone/
   adb -d forward tcp:5601 tcp:5601

-- How to connect to Bluetooth debugging for Moto 360: http://blog.timmattison.com/archives/2014/07/16/common-android-wear-tasks-for-developers/
    adb forward tcp:4444 localabstract:/adb-hub; adb connect 127.0.0.1:4444

-- How to get a dump from the watch into a file and see it while it's going
    adb -s localhost:4444 logcat -v time | & tee logdumps/whatever.txt

-- How to enable verbose logging from the command-line

    adb -d shell setprop log.tag.ClockFace VERBOSE
    adb -d shell setprop log.tag.ClockState VERBOSE
    adb -d shell setprop log.tag.MyViewAnim VERBOSE
    adb -d shell setprop log.tag.PhoneActivity VERBOSE
    adb -d shell setprop log.tag.CalendarFetcher VERBOSE
    adb -d shell setprop log.tag.CalendarPermission VERBOSE

    (or, once a shell is running)
    setprop log.tag.ClockFace VERBOSE
    setprop log.tag.ClockState VERBOSE
    setprop log.tag.MyViewAnim VERBOSE
    setprop log.tag.PhoneActivity VERBOSE
    setprop log.tag.CalendarFetcher VERBOSE
    setprop log.tag.CalendarPermission VERBOSE


Refactoring / reengineering
    TODO Rip out Observer/Listener logic (getting untenable) and redo with functional-reactive style
    - CalendarFetcher now works in a vaguely functional style, but we'd want to get rid of the observers
      on ClockState

    TODO too much .toFloat() and .toDouble() in ClockFace -- cleanup?!
    - We could try to standardize everything with Float, but many of the trig function in Math require Double
    - Twice I've tried standardizing on Float and things break: loss of the second-hand (!), and misalignment of the stipple pattern,
      so the thing to try next is standardizing on Double.
    - There's something really subtle and weird about how Kotlin does floating point that I'm clearly missing.

Deal with multiday events that aren't "all day" events
    TODO idea: resurrect all-day events by rendering them (and long events) as thin rings, perhaps separate from the main time wedges

TODO update the slides
    Now a standard lecture in Comp215, so some updates in there already, but should it change
    from an "evolution of CalWatch" into a "how to code for Android" talk? Or not? Also, worth
    adding Kotlin material.

ANDROID N / WEAR 2.0 OVERHAUL
    TODO flat-chin handling is broken

    TODO no configuration gear is shown

    TODO interaction of numbers-mode and complications -- do we hide the digits?
        (probably just draw the complications over the digits and let them be cropped)

    TODO complication rendering order: do we draw the hands on top of the complications or not?

    TODO handling of no-calendar-permission
        TODO if no calendar permission, display a button with the calendar icon
            TODO if clicked, launch the permission thing
        TODO suppress complication rendering unless we have calendar permission

    TODO pre-load complications? Day-Date left
        Current working plan: we keep with our built-in day-date and only use "complications" for the rest

    TODO code refactoring
        TODO simplify / kill WireEvent and WireUpdate
        TODO simplify / kill PreferencesHelper

    https://android-developers.googleblog.com/2017/05/android-wear-new-complications-tools.html
    https://developer.android.com/reference/android/support/wearable/complications/rendering/ComplicationDrawable.html
    https://github.com/googlesamples/android-WatchFace/blob/master/Wearable/src/main/java/com/example/android/wearable/watchface/watchface/AnalogComplicationWatchFaceService.java
    https://events.google.com/io/schedule/?section=may-19&sid=3c8f9b3c-2bdf-4e18-9797-1f087aff9b13
    TODO ComplicationDrawable for rendering the complications
        TODO XML setup of ComplicationDrawable with various styles set in the XML?
        TODO make the configuration dialog/activity actually show up (currently missing!)

        This isn't nearly as easy as it sounded from the IO'17 talk!

    Settings UI
        TODO get this working with the default left/right thing first
        TODO rearrange so we have 12/3/6 o'clock for complications (currently 3/9 o'clock)
        TODO add in radio buttons and switch buttons for CalWatch settings
             TODO but keep the interface clean so the complications package is at least vaguely reusable
        TODO custom code for custom menu (switch from XML to Anko?)

    TODO Merge in Anko synthetic properties where appropraite
